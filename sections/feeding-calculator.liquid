{{ 'component-image-with-text.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }
  .feeding-calculator-message {
    padding-top: 0 !important;
  }
  .feeding-calculator-message .grid {
    border: 3px solid;
    border-radius: 12px;
    background: #3FBA9E;
  }
  .feeding-calculator-message .image-with-text__content {
    justify-content: flex-start;
  }
  .feeding-calculator-message .subtitle--large {
    line-height: 1;
    margin-bottom: 2rem;
    margin-top: 0 !important;
  }
  .feeding-calculator-message .image-with-text__media {
    padding-top: 5rem;
    border: 0;
    background-color: transparent;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow: visible !important;
  }
  .feeding-calculator-message .image-with-text__media img {
    height: 335px;
    width: 397px;
    margin-left: -35px;
  }
  .feeding-calculator-message .image-with-text__media--placeholder:after {
    display: none;
  }
  .feeding-calculator-message .image-with-text__media h4 {
    letter-spacing: 2px;
    margin-top: 0;
  }
  .feeding-calculator-message .image-with-text__media h2 {
    margin-top: 0;
  }
  @media screen and (max-width: 749px) {
    .feeding-calculator .grid {
      flex-direction: column-reverse;
    }
    .feeding-calculator .image-with-text__content {
      padding: 0 0 4rem;
    }
    .feeding-calculator .image-with-text__heading {
      position: relative;
      margin-bottom: 2rem;
      max-width: 300px;
    }
    .feeding-calculator .image-with-text__heading::before {
      content: url('https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Feeding-Calc-Title.svg');
      position: absolute;
      top: -42px;
      right: 74px;
      transform: scale(0.55) translate(-50%, 50%);
      z-index: -1;
    }
    .feeding-calculator .image-with-text__heading::after {
      content: url('https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Feeding-Calc-Help.svg');
      position: absolute;
      transform: scale(0.65) translate(-35%, 0%);
    }
  }
  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
    .feeding-calculator .image-with-text__heading {
      position: relative;
      margin-bottom: 5rem;
    }
    .feeding-calculator .image-with-text__heading::before {
      content: url('https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Feeding-Calc-Title.svg');
      position: absolute;
      top: -48px;
      right: 88px;
      transform: translate(-50%, 50%);
      z-index: -1;
    }
    .feeding-calculator .image-with-text__heading::after {
      content: url('https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Feeding-Calc-Help.svg');
      position: absolute;
      transform: translate(-50%, 60%);
    }
    .feeding-calculator .image-with-text__content {
       padding: 0 7rem 0 0;
    }
    .feeding-calculator-message .image-with-text__content {
        padding: 5rem;
    }
  }
  #custom-pet-form .field {
    display: block;
    margin-bottom: 2rem;
  }
  #custom-pet-form .field__label {
    position: relative;
    display: block;
    left: 0;
    top: 0;
  }
  #custom-pet-form .field:after, 
  #custom-pet-form .select:after {
    display: none;
  }
  #custom-pet-form .field__input:focus, 
  #custom-pet-form .select__select:focus {
    box-shadow: none;
  }
  #custom-pet-form .field__input {
    border: 2px solid;
    margin: 0;
    border-radius: var(--inputs-radius);
    line-height: 1;
  }
  #custom-pet-form .pill-radio-group {
    display: flex;
    justify-content: space-between;
    margin: 0 -0.5rem;
  }
  #custom-pet-form .pill-radio-group .pill-radio {
    width: 100%;
    border: 2px solid;
    border-radius: 80px;
    margin: 0 0.5rem;
    display: flex;
    justify-content: center;
    padding: 1.5rem;
    cursor: pointer;
  }
  #custom-pet-form .pill-radio-group .pill-radio input {
    display: none;
  }
  #custom-pet-form .pill-radio-group .pill-radio--selected {
    background: #000;
    color: white;
  }
  #custom-pet-form .field label {
    font-weight: 600;
    margin-bottom: 10px;
    display: block;
  }
  #custom-pet-form .contact__button .button {
    margin-bottom: 0.5rem;
  }
  #custom-pet-form .contact__button {
    margin-top: 4rem;
  }
{%- endstyle -%}

{%- liquid
  assign fetch_priority = 'auto'
  if section.index == 1
    assign fetch_priority = 'high'
  endif
  if section.settings.color_scheme == section.settings.section_color_scheme and section.settings.content_layout == 'no-overlap'
    assign remove_color_classes = true
  endif
-%}

<div class="feeding-calculator section-{{ section.id }}-padding gradient color-{{ section.settings.section_color_scheme }}">
  <div class="page-width">
    <div class="image-with-text image-with-text--{{ section.settings.content_layout }} isolate{% if settings.text_boxes_border_thickness > 0 and settings.text_boxes_border_opacity > 0 and settings.media_border_thickness > 0 and settings.media_border_opacity > 0 %} collapse-borders{% endif %}{% unless section.settings.color_scheme == section.settings.section_color_scheme and settings.media_border_thickness > 0 and settings.text_boxes_shadow_opacity == 0 and settings.text_boxes_border_thickness == 0 or settings.text_boxes_border_opacity == 0 %} collapse-corners{% endunless %}{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
      <div class="image-with-text__grid grid grid--gapless grid--1-col grid--{% if section.settings.desktop_image_width == 'medium' %}2-col-tablet{% else %}3-col-tablet{% endif %}{% if section.settings.layout == 'text_first' %} image-with-text__grid--reverse{% endif %}">
        <div class="image-with-text__media-item image-with-text__media-item--{{ section.settings.desktop_image_width }} image-with-text__media-item--{{ section.settings.desktop_content_position }} grid__item">
          

              <form id="custom-pet-form" class="isolate">
                
                <div class="field">
                  <label class="static-field__label">Are you feeding a dog or a cat?</label>
                  <div class="pill-radio-group" id="pet-type-group">
                    <label class="pill-radio">
                      <input type="radio" name="pet_type" value="dog" required>
                      Dog
                    </label>
                    <label class="pill-radio">
                      <input type="radio" name="pet_type" value="cat" required>
                      Cat
                    </label>
                  </div>
                </div>
          
                <div class="field">
                  <label for="age" class="static-field__label">How old are they?</label>
                  <select id="age" name="age" class="field__input" required>
                    <option value="" disabled selected>Select</option>
                    <option value="0-6months">0-6 months</option>
                    <option value="6-12months">6-12 months</option>
                    <option value="1year">1 year</option>
                    <option value="2years">2 years</option>
                    <option value="3years">3 years</option>
                    <option value="4years">4 years</option>
                    <option value="5years">5 years</option>
                    <option value="6years">6 years</option>
                    <option value="7years">7 years</option>
                    <option value="8years">8 years</option>
                    <option value="9years">9 years</option>
                    <option value="10+years">10+ years</option>
                  </select>
                </div>
          
                <div class="field">
                  <label for="weight" class="field__label">How much do they weigh in kilograms?</label>
                  <input type="number" id="weight" name="weight" class="field__input" required min="0">
                </div>
          
                <div class="field">
                  <label class="static-field__label">How's their waistline?</label>
                  <div class="pill-radio-group" id="waistline-group">
                    <label class="pill-radio">
                      <input type="radio" name="waistline" value="underweight" required>
                      Underweight
                    </label>
                    <label class="pill-radio">
                      <input type="radio" name="waistline" value="ideal" required>
                      Ideal
                    </label>
                    <label class="pill-radio">
                      <input type="radio" name="waistline" value="overweight" required>
                      Overweight
                    </label>
                  </div>
                </div>
          
                <!-- Dog-Specific Fields -->
                <div class="dog-specific" style="display:none;">
                  <div class="field">
                    <label for="dog-activity" class="field__label">Are they active?</label>
                    <select id="dog-activity" name="dog_activity" class="field__input">
                      <option value="" disabled selected>Select</option>
                      <option value="low">Total couch potato</option>
                      <option value="mid">Pretty typical</option>
                      <option value="high">Practically an elite athlete</option>
                    </select>
                  </div>
          
                  <div class="field">
                    <label for="dog-blend" class="field__label">Which blend are you interested in?</label>
                    <select id="dog-blend" name="dog_blend" class="field__input">
                      <option value="" disabled selected>Select</option>
                      <option value="Essential">Essential blend for dogs</option>
                      <option value="Wild">Wild blend for dogs and cats</option>
                      <option value="Vital">Vital blend for dogs</option>
                    </select>
                  </div>
                </div>
          
                <!-- Cat-Specific Fields -->
                <div class="cat-specific" style="display:none;">
                  <div class="field">
                    <label for="cat-activity" class="field__label">Are they active?</label>
                    <select id="cat-activity" name="cat_activity" class="field__input">
                      <option value="" disabled selected>Select</option>
                      <option value="low">A total creature of leisure</option>
                      <option value="mid">Pretty typical</option>
                      <option value="high">Super active</option>
                    </select>
                  </div>
          
                  <div class="field">
                    <label for="cat-blend" class="field__label">Which blend are you interested in?</label>
                    <select id="cat-blend" name="cat_blend" class="field__input">
                      <option value="" disabled selected>Select</option>
                      <option value="Essential">Essential blend for cats</option>
                      <option value="Wild">Wild blend for dogs and cats</option>
                    </select>
                  </div>
                </div>
          
                <div class="contact__button">
                  <button type="submit" class="button button--secondary">Submit</button>
                </div>
              </form>

          
        </div>
        <div class="image-with-text__text-item grid__item">
          <div
            id="ImageWithText--{{ section.id }}"
            class="image-with-text__content image-with-text__content--{{ section.settings.desktop_content_position }} image-with-text__content--desktop-{{ section.settings.desktop_content_alignment }} image-with-text__content--mobile-{{ section.settings.mobile_content_alignment }} image-with-text__content--{{ section.settings.height }} content-container{% unless remove_color_classes %} gradient color-{{ section.settings.color_scheme }}{% else %} background-transparent{% endunless %}"
          >
            {%- for block in section.blocks -%}
              {% case block.type %}
                {%- when 'heading' -%}
                  <h1
                    class="image-with-text__heading inline-richtext {{ block.settings.heading_size }}"
                    {{ block.shopify_attributes }}
                  >
                    {{ block.settings.heading }}
                  </h1>
                {%- when 'caption' -%}
                  <p
                    class="image-with-text__text image-with-text__text--caption {{ block.settings.text_style }} {{ block.settings.text_style }}--{{ block.settings.text_size }} {{ block.settings.text_style }}"
                    {{ block.shopify_attributes }}
                  >
                    {{ block.settings.caption | escape }}
                  </p>
                {%- when 'text' -%}
                  <div class="image-with-text__text rte {{ block.settings.text_style }}" {{ block.shopify_attributes }}>
                    {{ block.settings.text }}
                  </div>
                {%- when 'button' -%}
                  {%- if block.settings.button_label != blank -%}
                    <a
                      {% if block.settings.button_link == blank %}
                        role="link" aria-disabled="true"
                      {% else %}
                        href="{{ block.settings.button_link }}"
                      {% endif %}
                      class="
                      {% if block.settings.button_style_arrow %}
                        button--arrow
                      {% else %}
                        {% if block.settings.button_style_secondary %}
                          button button--secondary
                        {% else %}
                          button button--primary
                        {% endif %}
                      {% endif %}"
                      {{ block.shopify_attributes }}
                    >
                      {{ block.settings.button_label | escape }} {% if block.settings.button_style_arrow %}<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span>{% endif %}
                    </a>
                  {%- endif -%}
              {%- endcase -%}
            {%- endfor -%}
          </div>
        </div>
      </div>
    </div>

    
  </div>
</div>

<div class="feeding-calculator-message section-{{ section.id }}-padding gradient color-{{ section.settings.section_color_scheme }}">
  <div class="page-width">
    <div class="image-with-text image-with-text--no-overlap isolate collapse-corners scroll-trigger animate--slide-in">
      <div id="confirmation-message" style="display:none;" class="form-status form-status-list">
          <!-- Confirmation message will go here based on the results -->
      </div>
    </div>
  </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('custom-pet-form');
  const confirmationMessage = document.getElementById('confirmation-message');
  const dogSpecificFields = document.querySelector('.dog-specific');
  const catSpecificFields = document.querySelector('.cat-specific');

  // Function to show/hide fields based on pet type
  function togglePetFields() {
    const petType = document.querySelector('input[name="pet_type"]:checked');
    if (petType) {
      if (petType.value === 'dog') {
        dogSpecificFields.style.display = 'block';
        catSpecificFields.style.display = 'none';
      } else if (petType.value === 'cat') {
        catSpecificFields.style.display = 'block';
        dogSpecificFields.style.display = 'none';
      }
    }
  }

  // Function to add the "pill-radio--selected" class to the selected label
  function updateSelectedClass(selectedInput) {
    const radioGroupName = selectedInput.name;
    const radioGroup = document.querySelectorAll(`input[name="${radioGroupName}"]`);
    radioGroup.forEach(function(input) {
      const label = input.closest('.pill-radio');
      if (label) label.classList.remove('pill-radio--selected');
    });
    const selectedLabel = selectedInput.closest('.pill-radio');
    if (selectedLabel) selectedLabel.classList.add('pill-radio--selected');
  }

  // Attach event listeners to all radio buttons
  const allRadioButtons = document.querySelectorAll('input[type="radio"]');
  allRadioButtons.forEach(function(radio) {
    radio.addEventListener('change', function() {
      updateSelectedClass(this);
      if (radio.name === 'pet_type') {
        togglePetFields();
      }
    });
  });

  // Initially call togglePetFields to set the correct fields
  togglePetFields();

  // Lookup tables for grams based on conditions

  const lookupTables = {
    dog: {
      "0-6months": {
        1: 100, 2: 200, 3: 300, 4: 400, 5: 500, 6: 600, 7: 700, 8: 800, 9: 900, 10: 1000,
        11: 1100, 12: 1200, 13: 1300, 14: 1400, 15: 1500, 16: 1600, 17: 1700, 18: 1800,
        19: 1900, 20: 2000, 21: 2100, 22: 2200, 23: 2300, 24: 2400, 25: 2500
      },
      "6-12months": {
        1: 50, 2: 100, 3: 150, 4: 200, 5: 250, 6: 300, 7: 350, 8: 400, 9: 450, 10: 500,
        11: 550, 12: 600, 13: 650, 14: 700, 15: 750, 16: 800, 17: 850, 18: 900, 19: 950, 
        20: 1000, 21: 1050, 22: 1100, 23: 1150, 24: 1200, 25: 1250, 26: 1300, 27: 1350, 
        28: 1400, 29: 1450, "30-39": 1500, "40-49": 2000, "50-59": 2500
      },
      "1year-9years": {
        1: 40, 2: 80, 3: 120, 4: 140, 5: 150, 6: 162, 7: 175, 8: 200, 9: 225, 10: 250,
        11: 275, 12: 300, 13: 325, 14: 350, 15: 375, 16: 400, 17: 425, 18: 450, 19: 475, 
        20: 500, 21: 525, 22: 550, 23: 575, 24: 600, 25: 625, 26: 650, 27: 675, 28: 700, 
        29: 725, "30-39": 750, "40-49": 1000, "50-59": 1250
      },
      underweight_high_activity: {
        1: 60, 2: 100, 3: 150, 4: 180, 5: 200, 6: 210, 7: 224, 8: 240, 9: 270, 10: 300,
        11: 330, 12: 360, 13: 390, 14: 420, 15: 450, 16: 480, 17: 510, 18: 540, 19: 570,
        20: 600, 21: 630, 22: 660, 23: 690, 24: 720, 25: 750, 26: 780, 27: 810, 28: 840,
        29: 870, "30-39": 900, "40-49": 1200, "50-59": 1500
      },
      overweight_old: {
        1: 30, 2: 60, 3: 90, 4: 120, 5: 125, 6: 150, 7: 154, 8: 176, 9: 198, 10: 220,
        11: 231, 12: 240, 13: 260, 14: 280, 15: 300, 16: 320, 17: 340, 18: 360, 19: 380, 
        20: 400, 21: 420, 22: 440, 23: 460, 24: 480, 25: 500, 26: 520, 27: 540, 28: 560,
        29: 580, "30-39": 600, "40-49": 800, "50-59": 1000
      }
    },
    cat: {
      "0-6months": {
        1: 100, 2: 200, 3: 300, 4: 400, 5: 500, 6: 600, 7: 700, 8: 800, 9: 900, 10: 1000
      },
      "6-12months": {
        1: 50, 2: 100, 3: 150, 4: 200, 5: 250, 6: 300, 7: 350, 8: 400, 9: 450, 10: 500,
        11: 550, 12: 600, 13: 650, 14: 700, 15: 750
      },
      "1year-9years": {
        1: 40, 2: 80, 3: 120, 4: 140, 5: 150, 6: 162, 7: 175, 8: 200, 9: 225, 10: 250,
        11: 275, 12: 300, 13: 325, 14: 350, 15: 375
      },
      underweight_high_activity: {
        1: 60, 2: 100, 3: 150, 4: 180, 5: 200, 6: 210, 7: 224, 8: 240, 9: 270, 10: 300,
        11: 330, 12: 360, 13: 390, 14: 420, 15: 450
      },
      overweight_old: {
        1: 30, 2: 60, 3: 90, 4: 120, 5: 125, 6: 150, 7: 154, 8: 176, 9: 198, 10: 220,
        11: 231, 12: 240, 13: 260, 14: 280, 15: 300
      }
    }
  };

  // Helper function to find grams based on lookup tables
  function findGrams(petType, age, weight, waistline, activity) {
    let grams = 0;

    if (petType === 'dog') {
      if (age === '0-6months') {
        grams = lookupTables.dog['0-6months'][weight] || 0;
      } else if (age === '6-12months') {
        grams = lookupTables.dog['6-12months'][weight] || 0;
      } else if (['1year', '2years', '3years', '4years', '5years', '6years', '7years', '8years', '9years'].includes(age)) {
        grams = lookupTables.dog['1year-9years'][weight] || 0;
      } else if (waistline === 'underweight' || activity === 'high') {
        grams = lookupTables.dog.underweight_high_activity[weight] || 0;
      } else if (waistline === 'overweight' || age === '10+years') {
        grams = lookupTables.dog.overweight_old[weight] || 0;
      }
    } else if (petType === 'cat') {
      if (age === '0-6months') {
        grams = lookupTables.cat['0-6months'][weight] || 0;
      } else if (age === '6-12months') {
        grams = lookupTables.cat['6-12months'][weight] || 0;
      } else if (['1year', '2years', '3years', '4years', '5years', '6years', '7years', '8years', '9years'].includes(age)) {
        grams = lookupTables.cat['1year-9years'][weight] || 0;
      } else if (waistline === 'underweight' || activity === 'high') {
        grams = lookupTables.cat.underweight_high_activity[weight] || 0;
      } else if (waistline === 'overweight' || age === '10+years') {
        grams = lookupTables.cat.overweight_old[weight] || 0;
      }
    }

    return grams;
  }

  // Function to calculate blendgrams
  function findBlendGrams(petType, age, weight, blend, waistline, activity) {
    let blendGrams = 0;
  
    // Logic for dogs
    if (petType === 'dog') {
      if (age === '0-6months') {
        if (blend === 'Essential' || blend === 'Wild') {
          blendGrams = weight * 5;
        } else if (blend === 'Vital') {
          blendGrams = weight * 2;
        }
      } else if (age === '6-12months') {
        if (blend === 'Essential' || blend === 'Wild') {
          blendGrams = weight * 2.5;
        } else if (blend === 'Vital') {
          blendGrams = weight * 1;
        }
      } else if (['1year', '2years', '3years', '4years', '5years', '6years', '7years', '8years', '9years'].includes(age)) {
        if (blend === 'Essential' || blend === 'Wild') {
          if (weight <= 6) {
            blendGrams = weight * 1.6;
          } else {
            blendGrams = weight * 1;
          }
        } else if (blend === 'Vital') {
          if (weight <= 6) {
            blendGrams = weight * 0.8;
          } else {
            blendGrams = weight * 0.5;
          }
        }
      }
  
      // Additional conditions for dogs
      if ((waistline === 'underweight' || activity === 'high') && (blend === 'Essential' || blend === 'Wild')) {
        const underweightBlendGrams = {
          1: 2, 2: 4, 3: 6, 4: 7, 5: 8, 6: 8, 7: 9, 8: 10, 9: 11, 10: 12,
          11: 13, 12: 14, 13: 16, 14: 17, 15: 18, 16: 19, 17: 20, 18: 22, 19: 23,
          20: 24, 21: 25, 22: 26, 23: 28, 24: 29, 25: 30, 26: 31, 27: 32, 28: 34,
          29: 35, "30-39": 36, "40-49": 48, "50-59": 60
        };
        blendGrams = underweightBlendGrams[weight] || 0;
      } else if ((waistline === 'underweight' || activity === 'high') && blend === 'Vital') {
        const underweightVitalGrams = {
          1: 1, 2: 2, 3: 3, 4: 3.6, 5: 4, 6: 4, 7: 4.5, 8: 5, 9: 5.4, 10: 6,
          11: 6.6, 12: 7, 13: 8, 14: 8.4, 15: 9, 16: 9.6, 17: 10, 18: 10.8,
          19: 11, 20: 12, 21: 12.6, 22: 13, 23: 14, 24: 14.4, 25: 15, 26: 15.6,
          27: 16, 28: 17, 29: 17.4, "30-39": 18, "40-49": 24, "50-59": 30
        };
        blendGrams = underweightVitalGrams[weight] || 0;
      } else if ((waistline === 'overweight' || age === '10+years') && (blend === 'Essential' || blend === 'Wild')) {
        const overweightBlendGrams = {
          1: 1, 2: 2, 3: 4, 4: 5, 5: 5, 6: 6, 7: 6, 8: 7, 9: 8, 10: 8.8,
          11: 9, 12: 10, 13: 10, 14: 11, 15: 12, 16: 13, 17: 14, 18: 14, 19: 15,
          20: 16, 21: 17, 22: 18, 23: 18, 24: 19, 25: 20, 26: 21, 27: 22, 28: 22,
          29: 23, "30-39": 24, "40-49": 32, "50-59": 40
        };
        blendGrams = overweightBlendGrams[weight] || 0;
      } else if ((waistline === 'overweight' || age === '10+years') && blend === 'Vital') {
        const overweightVitalGrams = {
          1: 0.6, 2: 1, 3: 2, 4: 2.4, 5: 3, 6: 3, 7: 3.1, 8: 4, 9: 4, 10: 4.4,
          11: 4.6, 12: 5, 13: 5, 14: 5.6, 15: 6, 16: 6.4, 17: 7, 18: 7.2, 19: 8,
          20: 8, 21: 8.4, 22: 9, 23: 9, 24: 9.6, 25: 10, 26: 10.4, 27: 11, 28: 11,
          29: 11.6, "30-39": 12, "40-49": 16, "50-59": 20
        };
        blendGrams = overweightVitalGrams[weight] || 0;
      }
    }
  
    // Logic for cats
    if (petType === 'cat') {
      if (age === '0-6months') {
        if (blend === 'Essential' || blend === 'Wild') {
          blendGrams = weight * 6;
        }
      } else if (age === '6-12months') {
        if (blend === 'Essential' || blend === 'Wild') {
          blendGrams = weight * 3;
        }
      } else if (['1year', '2years', '3years', '4years', '5years', '6years', '7years', '8years', '9years'].includes(age)) {
        if (blend === 'Essential' || blend === 'Wild') {
          if (weight <= 6) {
            blendGrams = weight * 1.6;
          } else {
            blendGrams = weight * 1;
          }
        }
      }
  
      // Additional conditions for cats
      if ((waistline === 'underweight' || activity === 'high') && (blend === 'Essential' || blend === 'Wild')) {
        const underweightCatBlendGrams = {
          1: 2, 2: 4, 3: 6, 4: 7, 5: 8, 6: 8, 7: 9, 8: 10, 9: 11, 10: 12,
          11: 13, 12: 14, 13: 16, 14: 17, 15: 18
        };
        blendGrams = underweightCatBlendGrams[weight] || 0;
      } else if ((waistline === 'overweight' || age === '10+years') && (blend === 'Essential' || blend === 'Wild')) {
        const overweightCatBlendGrams = {
          1: 1, 2: 2, 3: 4, 4: 5, 5: 5, 6: 6, 7: 6, 8: 7, 9: 8, 10: 8.8,
          11: 9.2, 12: 10, 13: 10, 14: 11, 15: 12
        };
        blendGrams = overweightCatBlendGrams[weight] || 0;
      }
    }
  
    return blendGrams;
  }


  // Form submission event
  form.addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent default form submission behavior

    // Get form values
    const petTypeInput = document.querySelector('input[name="pet_type"]:checked');
    const petType = petTypeInput ? petTypeInput.value : null;
    const age = document.getElementById('age').value;
    const weight = parseInt(document.getElementById('weight').value);
    const waistlineInput = document.querySelector('input[name="waistline"]:checked');
    const waistline = waistlineInput ? waistlineInput.value : null;
    const activity = petType === 'dog' ? document.getElementById('dog-activity').value : document.getElementById('cat-activity').value;

    // Find the corresponding grams value using the lookup table
    const grams = findGrams(petType, age, weight, waistline, activity);

    // Get the blend value based on the selected pet type
    const blend = petType === 'dog'
      ? document.getElementById('dog-blend').value
      : document.getElementById('cat-blend').value;

    // Find the blendgrams value using the blend logic
    const blendGrams = findBlendGrams(petType, age, weight, blend);

    let message = '';

    // Logic for confirmation messages
    if (petType === 'dog') {
      if (age === '0-6months') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Congrats on your new arrival!<p>
<p>Depending on your unique dog, you will need to feed them up to ${grams} grams of raw food per day, spread over 3-4 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Because your pup is still in their key growth stage, they will be eating an enormous amount of food for their size! Don't worry, this is normal and will subside as they fill out.</p>
<p>Around 20% of this daily allowance should be raw meaty bones, which are essential for the health of their developing musculoskeletal system.</p>
<p>If you find this is too much food, don’t stress, every dog is different and it’s very difficult to pinpoint a portion that will be right for them all. We want steady growth – not too rapid – and some softness but not excessive “puppy fat”.</p>
<h1>${grams}</h1>`;
      } else if (age === '6-12months') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>How’s that teenage stage going?</p>
<p>Depending on your unique dog, you will need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Up to 20% of this daily allowance should be raw meaty bones, which are essential for the health of their developing musculoskeletal system.</p>
<p>Because your pup is growing, they are probably still eating a huge amount of food for their size, but you may be starting to see decrease a bit, depending on their breed.</p>
<p>This portion is just a guide and based on an upper level, not a minimum. Every dog is different and it’s very difficult to pinpoint a portion that will be right for them all. We shouldn’t really be seeing too much “puppy fat” by now, but they do still need lots of energy to fuel their chaos.</p>
<a href="/collections/dogs" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      } else if (['1year', '2years', '3years', '4years', '5years', '6years', '7years', '8years', '9years'].includes(age)) {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Depending on your unique dog, you will need to feed them up to ${grams} grams of raw food per day, spread over 1-2 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping teeth clean and minds calm.</p>
<a href="/collections/dogs" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      } else if (age === '10+years') {
        message = `<p>Depending on your unique dog, you will need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>We have reduced their portion slightly due to their metabolism slowing down as they age, which is typical for most dogs. Just monitor their weight and hunger levels and adjust as necessary.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping teeth clean and minds calm. If they have any dental pain, skip the bones and opt for a natural toothpaste instead.</p>
<a href="/collections/dogs" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      }

      if (waistline === 'overweight') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>OK, sounds like we need to go on a bit of a health kick! But that’s ok, we’ve got you covered.</p>
<p>To shift a bit of excess weight, we recommend feeding up to ${grams} grams of raw food per day. Of this, ${blendGrams} grams will be ${blend} Blend. We also recommend gradually increasing your dog’s exercise, if they’re able to do this safely.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping hungry dogs occupied.</p>
<a href="/collections/dogs" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      } else if (waistline === 'underweight') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Because it sounds like your dog is on the slightly-too-lean side, you will probably need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are great for dental and mental health.</p>
<p>Just monitor for weight changes and pull back as necessary when they get to an ideal size.</p>
<a href="/collections/dogs" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      }

      if (activity === 'high') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Because your dog is super active, you will likely need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping busy minds occupied.</p>
<p>Just monitor for body changes and pull back if you notice any extra weight creeping on.</p>
<a href="/collections/dogs" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      }

    } else if (petType === 'cat') {
      if (age === '0-6months') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Congrats on your new arrival!</p>
<p>Depending on your unique kitten, you will need to feed them up to ${grams} grams of raw food per day, spread over 3-4 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Because your cat is still in their key growth stage, they will be eating an enormous amount of food for their size! Don't worry, this is normal and will subside as they fill out.</p>
<p>Around 20% of this daily allowance should be raw meaty bones, which are essential for the health of their developing musculoskeletal system. If your cat won’t eat bones, you can use a bone-in ground meat.</p>
<p>Kittens are quite good at self-regulating their portions, so you can let them lead a bit too. We just want steady growth – not too rapid.</p>
<a href="/collections/cats" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      } else if (age === '6-12months') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>How’s that teenage stage going?</p>
<p>Depending on your unique cat, you will need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Around 20% of this daily allowance should be raw meaty bones, which are essential for the health of their developing musculoskeletal system. If your cat won’t eat bones, you can use a bone-in ground meat.</p>
<p>Because your kitten is growing, they are probably still eating a huge amount of food for their size, but you may be starting to see decrease a bit, depending on the individual.</p>
<p>Cats are quite good at self-regulating their portions, so you can be guided by them. They still need lots of energy to fuel their chaos, but we don’t want to overfeed them as they mature.</p>
<h1>${grams}</h1>`;
      } else if (['1year', '2years', '3years', '4years', '5years', '6years', '7years', '8years', '9years'].includes(age)) {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Depending on your unique cat, you will need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p> 
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping teeth clean and minds calm.</p>
<a href="/collections/cats" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      } else if (age === '10+years') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Depending on your unique cat, you will need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>We have reduced their portion slightly due to their metabolism slowing down as they age, which is typical for most animals (right?!). Just monitor their weight and hunger levels and adjust as necessary.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping teeth clean and minds calm. If they have any dental pain, skip the bones and opt for a natural toothpaste instead.</p>
<a href="/collections/cats" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      }

      if (waistline === 'overweight') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>OK, sounds like we need to go on a bit of a health kick! But that’s ok, we’ve got you covered.</p>
<p>To shift a bit of excess weight, we recommend feeding up to ${grams} grams of raw food per day. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping hungry cats busy.</p>
<p>We also recommend gradually increasing your cat’s exercise, if they’re able to do this safely. Play is a fantastic indoor exercise for cats.</p>
<h1>${grams}</h1>`;
      } else if (waistline === 'underweight') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Because it sounds like your cat is on the slightly-too-lean side, you will probably need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are great for dental and mental health.</p>
<p>Just monitor for weight changes and pull back as necessary when they get to an ideal size.</p>
<a href="/collections/cats" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      }

      if (activity === 'high') {
        message = `<div class="image-with-text__grid grid grid--gapless grid--1-col grid--2-col-tablet image-with-text__grid--reverse">
        <div class="image-with-text__media-item image-with-text__media-item--medium image-with-text__media-item--middle grid__item">
          <div class="image-with-text__media image-with-text__media--adapt global-media-settings gradient color-scheme-1 image-with-text__media--placeholder placeholder">
            <h4>Total Food Per Day</h4>
            <h2 class="h1">${grams} grams</h2>
            <img src="https://cdn.shopify.com/s/files/1/0557/0884/4170/files/HUNDE_Calculator_Placeholder.png" alt="Image with Text" sizes="(min-width: 1100px) 500px,
              (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)" fetchpriority="auto" width="100%" height="100%">
          </div>
        </div>
        <div class="image-with-text__text-item grid__item">
          <div id="ImageWithText--template--17348005822602__serving_with_text_RwXLh3" class="image-with-text__content image-with-text__content--middle image-with-text__content--desktop-left image-with-text__content--mobile-left image-with-text__content--adapt content-container gradient color-scheme-5">
            <h2 class="image-with-text__heading inline-richtext h1">We Recommend</h2>
            <p class="image-with-text__text image-with-text__text--caption subtitle subtitle--large subtitle">for your bestie</p>
            <div class="image-with-text__text rte body"><p>Because your cat is super active, you will likely need to feed them up to ${grams} grams of raw food per day, spread over 2-3 meals. Of this, ${blendGrams} grams will be ${blend} Blend.</p>
<p>Up to 20% of this daily allowance can be raw meaty bones, which are fantastic for keeping busy minds occupied.</p>
<p>Just monitor for body changes and pull back if you notice any extra weight creeping on, particularly if they’re an outdoor cat helping themselves to the smorgasbord of life.</p>
<a href="/collections/cats" class="button--arrow">Shop the range<span class="svg-wrapper">{{ 'icon-arrow-black.svg' | inline_asset_content }}</span></a>
            </div>
          </div>
        </div>
      </div>`;
      }
    }

    // Display the confirmation message if one exists
    if (message !== '') {
      confirmationMessage.innerHTML = message;
      confirmationMessage.style.display = 'block';
    } else {
      confirmationMessage.innerHTML = `<h1>No message available for the current selection</h1>`;
      confirmationMessage.style.display = 'block';
    }
  });
});
</script>



{% schema %}
{
  "name": "Feeding Calculator",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "t:sections.image-with-text.settings.image.label"
    },
    {
      "type": "select",
      "id": "height",
      "options": [
        {
          "value": "adapt",
          "label": "t:sections.image-with-text.settings.height.options__1.label"
        },
        {
          "value": "small",
          "label": "t:sections.image-with-text.settings.height.options__2.label"
        },
        {
          "value": "medium",
          "label": "t:sections.image-with-text.settings.height.options__3.label"
        },
        {
          "value": "large",
          "label": "t:sections.image-with-text.settings.height.options__4.label"
        }
      ],
      "default": "adapt",
      "label": "t:sections.image-with-text.settings.height.label"
    },
    {
      "type": "select",
      "id": "desktop_image_width",
      "options": [
        {
          "value": "small",
          "label": "t:sections.image-with-text.settings.desktop_image_width.options__1.label"
        },
        {
          "value": "medium",
          "label": "t:sections.image-with-text.settings.desktop_image_width.options__2.label"
        },
        {
          "value": "large",
          "label": "t:sections.image-with-text.settings.desktop_image_width.options__3.label"
        }
      ],
      "default": "medium",
      "label": "t:sections.image-with-text.settings.desktop_image_width.label",
      "info": "t:sections.image-with-text.settings.desktop_image_width.info"
    },
    {
      "type": "select",
      "id": "layout",
      "options": [
        {
          "value": "image_first",
          "label": "t:sections.image-with-text.settings.layout.options__1.label"
        },
        {
          "value": "text_first",
          "label": "t:sections.image-with-text.settings.layout.options__2.label"
        }
      ],
      "default": "image_first",
      "label": "t:sections.image-with-text.settings.layout.label",
      "info": "t:sections.image-with-text.settings.layout.info"
    },
    {
      "type": "select",
      "id": "desktop_content_position",
      "options": [
        {
          "value": "top",
          "label": "t:sections.image-with-text.settings.desktop_content_position.options__1.label"
        },
        {
          "value": "middle",
          "label": "t:sections.image-with-text.settings.desktop_content_position.options__2.label"
        },
        {
          "value": "bottom",
          "label": "t:sections.image-with-text.settings.desktop_content_position.options__3.label"
        }
      ],
      "default": "top",
      "label": "t:sections.image-with-text.settings.desktop_content_position.label"
    },
    {
      "type": "select",
      "id": "desktop_content_alignment",
      "options": [
        {
          "value": "left",
          "label": "t:sections.image-with-text.settings.desktop_content_alignment.options__1.label"
        },
        {
          "value": "center",
          "label": "t:sections.image-with-text.settings.desktop_content_alignment.options__2.label"
        },
        {
          "value": "right",
          "label": "t:sections.image-with-text.settings.desktop_content_alignment.options__3.label"
        }
      ],
      "default": "left",
      "label": "t:sections.image-with-text.settings.desktop_content_alignment.label"
    },
    {
      "type": "select",
      "id": "content_layout",
      "options": [
        {
          "value": "no-overlap",
          "label": "t:sections.image-with-text.settings.content_layout.options__1.label"
        },
        {
          "value": "overlap",
          "label": "t:sections.image-with-text.settings.content_layout.options__2.label"
        }
      ],
      "default": "no-overlap",
      "label": "t:sections.image-with-text.settings.content_layout.label"
    },
    {
      "type": "color_scheme",
      "id": "section_color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.multirow.settings.container_color_scheme.label",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "t:sections.all.animation.content"
    },
    {
      "type": "select",
      "id": "image_behavior",
      "options": [
        {
          "value": "none",
          "label": "t:sections.all.animation.image_behavior.options__1.label"
        },
        {
          "value": "ambient",
          "label": "t:sections.all.animation.image_behavior.options__2.label"
        },
        {
          "value": "zoom-in",
          "label": "t:sections.all.animation.image_behavior.options__4.label"
        }
      ],
      "default": "none",
      "label": "t:sections.all.animation.image_behavior.label"
    },
    {
      "type": "header",
      "content": "Mobile layout"
    },
    {
      "type": "select",
      "id": "mobile_content_alignment",
      "options": [
        {
          "value": "left",
          "label": "t:sections.image-with-text.settings.mobile_content_alignment.options__1.label"
        },
        {
          "value": "center",
          "label": "t:sections.image-with-text.settings.mobile_content_alignment.options__2.label"
        },
        {
          "value": "right",
          "label": "t:sections.image-with-text.settings.mobile_content_alignment.options__3.label"
        }
      ],
      "default": "left",
      "label": "t:sections.image-with-text.settings.mobile_content_alignment.label"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "t:sections.image-with-text.blocks.heading.name",
      "limit": 1,
      "settings": [
        {
          "type": "inline_richtext",
          "id": "heading",
          "default": "t:sections.image-with-text.blocks.heading.settings.heading.default",
          "label": "t:sections.image-with-text.blocks.heading.settings.heading.label"
        },
        {
          "type": "select",
          "id": "heading_size",
          "options": [
            {
              "value": "h2",
              "label": "t:sections.all.heading_size.options__1.label"
            },
            {
              "value": "h1",
              "label": "t:sections.all.heading_size.options__2.label"
            },
            {
              "value": "h0",
              "label": "t:sections.all.heading_size.options__3.label"
            },
            {
              "value": "hxl",
              "label": "t:sections.all.heading_size.options__4.label"
            },
            {
              "value": "hxxl",
              "label": "t:sections.all.heading_size.options__5.label"
            }
          ],
          "default": "h1",
          "label": "t:sections.all.heading_size.label"
        }
      ]
    },
    {
      "type": "caption",
      "name": "t:sections.image-with-text.blocks.caption.name",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "caption",
          "default": "t:sections.image-with-text.blocks.caption.settings.text.default",
          "label": "t:sections.image-with-text.blocks.caption.settings.text.label"
        },
        {
          "type": "select",
          "id": "text_style",
          "options": [
            {
              "value": "subtitle",
              "label": "t:sections.image-with-text.blocks.caption.settings.text_style.options__1.label"
            },
            {
              "value": "caption-with-letter-spacing",
              "label": "t:sections.image-with-text.blocks.caption.settings.text_style.options__2.label"
            }
          ],
          "default": "caption-with-letter-spacing",
          "label": "t:sections.image-with-text.blocks.caption.settings.text_style.label"
        },
        {
          "type": "select",
          "id": "text_size",
          "options": [
            {
              "value": "small",
              "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__1.label"
            },
            {
              "value": "medium",
              "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__2.label"
            },
            {
              "value": "large",
              "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__3.label"
            }
          ],
          "default": "medium",
          "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.label"
        }
      ]
    },
    {
      "type": "text",
      "name": "t:sections.image-with-text.blocks.text.name",
      "limit": 1,
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "default": "t:sections.image-with-text.blocks.text.settings.text.default",
          "label": "t:sections.image-with-text.blocks.text.settings.text.label"
        },
        {
          "type": "select",
          "id": "text_style",
          "options": [
            {
              "value": "body",
              "label": "t:sections.image-with-text.blocks.text.settings.text_style.options__1.label"
            },
            {
              "value": "subtitle",
              "label": "t:sections.image-with-text.blocks.text.settings.text_style.options__2.label"
            }
          ],
          "default": "body",
          "label": "t:sections.image-with-text.blocks.text.settings.text_style.label"
        }
      ]
    },
    {
      "type": "button",
      "name": "t:sections.image-with-text.blocks.button.name",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "button_label",
          "default": "t:sections.image-with-text.blocks.button.settings.button_label.default",
          "label": "t:sections.image-with-text.blocks.button.settings.button_label.label",
          "info": "t:sections.image-with-text.blocks.button.settings.button_label.info"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "t:sections.image-with-text.blocks.button.settings.button_link.label"
        },
        {
          "type": "checkbox",
          "id": "button_style_secondary",
          "default": false,
          "label": "t:sections.image-with-text.blocks.button.settings.outline_button.label"
        },
        {
          "type": "checkbox",
          "id": "button_style_arrow",
          "default": false,
          "label": "Use arrow button style"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Feeding Calculator",
      "blocks": [
        {
          "type": "heading"
        },
        {
          "type": "text"
        },
        {
          "type": "button"
        }
      ]
    }
  ]
}
{% endschema %}
